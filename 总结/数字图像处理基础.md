# 数字图像处理基础

对比度：指明暗的对比程度，通常表现了图像画质的清晰程度

相对对比度：
$$ C_r= \frac{B_{max} - B_{min}}{B_{min}} $$

对比度
$$ C = \sum_{\delta} \delta(i,j)^2P_\delta(i,j)$$
$$ \delta(i,j) = |i-j| 即相邻像素间的灰度差$$
$$ P_\delta(i,j)即相邻像素间灰度差为\delta的像素分布概率 $$

颜色混合原理:
加色=‘或’运算
减色=‘与’运算

## 图像数字化

图像数字化是将一幅画面转化成计算机能处理的形式--数字图像的过程

图像数字化：将一幅画面分割为多个像元或像素，将每个区域灰度用整数表示，形成一幅点阵式的数字图像，包括采样和量化两个过程，像素的位置和灰度就是像素的属性

像素：数字图像中最小的单元，位置和光谱（亮度）就是像素的属性

采样：将空间上连续的图像变换成离散点的操作

采样间隔和采样孔径的大小是两个很重要的采样参数

量化：将像素灰度转换成离散的整数值的过程

灰度级：表示像素明暗程度的整数

灰度级数：一幅数字图像中不同灰度级的个数，用L表示，代表一幅数字图像的层次，图像数据的实际层次越多视觉效果就越好

一般来说 $L=2^g=2^8=256$

g表示存储量化级别，表示存储图像像素灰度值所需要的比特位数

数字图像根据灰度级数的差异可分为：黑白图像、灰度图像和彩色图像

### 量化参数与数字化图像间的关系

数字化方式可分为均匀采样、量化和非均匀采样、量化

均匀，指的是采样、量化为等间隔方式。

图像数字化一般采用均匀采样和均匀量化方式。

非均匀采样是根据图象细节的丰富程度改变采样间距。细节丰富的地方，采样间距小，否则间距大。

非均匀量化是对图像层次少的区域采用间隔大量化，而对图像层次丰富的区域采用间隔小量化

采用均匀采样与量化，均会是问题复杂化，因此很少采用

### 决定图像质量的因素

1. 平均亮度
2. 对比度
3. 清晰度
4. 分解力或分辨率
5. 采样间隔 （采样间隔越小，像素数越多，空间分辨率越高，图像质量越好，数据量越大）
6. 量化等级（量化等级越多，所得图像层次越丰富，灰度分辨率越高，图像质量越好，数据量越大）
   
## 图像灰度直方图

### 定义
灰度直方图反应的是一幅图像中各灰度级像素出现的频率。以灰度级为横坐标，纵坐标为灰度级的频率，绘制频率同灰度级的关系图就是灰度直方图。它是图像的一个重要特征，反应了图像灰度分布的情况

$$ H_i = \frac{h_i}{N}  $$
$$ i=0,1,......,L-1 $$
   
$H_i$表示第i个灰度级上像素出现的频率

$h_i$表示图像中灰度值为i的像素的个数

$N$表示图像中总的像素个数

$L$为图像的灰度级数

### 性质

1. 灰度直方图只能反映图像的灰度分布情况，而不能反映图像像素的位置，即丢失了像素的位置信息
2. 一幅图像对应唯一的灰度直方图，反之不成立。不同的图像可对应相同的直方图
3. 一幅图像分为多个区域，多个区域的直方图之和几位原图像的直方图

## 局部处理算法

邻域：4邻域、8邻域

1. 点处理：输出值$J(i,j)$仅与$I(i,j)$有关
2. 局部处理：输出值$J(i,j)$与$I(i,j)$及其邻域中的像素值有关
3. 大局处理：输出值$J(i,j)$取决于输入图像大范围或全部像素的值
   
卷积：局部处理中经常用用到的一种计算方式

迭代处理：反复对图像进行某种运算直至满足给定的条件，从而得到输出图像的处理形式。

跟踪处理：选择满足适当条件的像素作为起始像素，检查输入图像和已得到的输出结果，求出下一步应该处理的像素，进行规定的处理，然后决定是继续处理下面的像素，还是终止处理。

位置不变处理：输出像素值的计算方法与像素位置无关的处理

位置可变处理：随位置不同计算方法也不同的处理

窗口处理：单独对图像中选定矩形区域内的像素进行处理的方式

## 图像的数据结构

### 多重图像数据存储

1. 逐波段存储，分波段处理时采用（BSQ）
2. 逐行存储，行扫描记录设备采用（BIL）
3. 逐像素存储，用于分类（BIP）

## 图像的颜色模型

### RGB颜色模型 

采用红绿蓝三种颜色相加混色的原理

采用物理三基色表示，物理意义清楚，适合彩色显像管工作，但是不完全适应人的视觉特点

### HSI（HSB）颜色模型

从人的视觉系统出发，用色调、色饱和度和亮度来描述色彩

1. 色调 Hue ：光线所呈现的颜色
   
   色调相对连续变化
2. 饱和度 Saturation : 指色彩的浓淡程度
   
   饱和度越高，色彩越艳丽、越鲜明突出，越能发挥其色彩的固有特性
   
   饱和度高的色彩容易让人感到单调刺眼，饱和度低色感比较柔和协调，混色太杂容易让人感到浑浊，色调显得灰暗

3. 亮度 Intensity/Brightness ：指人眼感受到的明暗程度

   同一物体因受光不同会产生明度上的变化

HSI色彩空间与RGB色彩空间只是同一物理量的不同表示，存在转换关系

人的视觉系统经常采用HSB色彩空间，更符合人的视觉特性

HSI可以分开处理并且相互独立，因此在HSI色彩空间可以大大简化图像分析和处理的工作量

### CMYK色彩模型

理论时任意颜色都可以通过青色（Cyan）、品红（Magenta）和黄色（yellow）混合得到，即CMY模型

由于化学特性导致由CMY调制的黑色不是真正的黑色，因此添加纯黑，即CMYK模型

### YUV模型

PAL制式将RGB三色信号改组为YUV信号，Y表示亮度，U、V表示色差信号

由于YUV色彩空间中亮度信号Y和色度信号U、V分离，因此可以仅通过Y信号表示黑白灰度图，YUV色彩空间解决了彩色电视机与黑白电视机的兼容问题

同样，YUV可与RGB相互转换

