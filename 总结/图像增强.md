<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>

# 图像增强

图像增强是采用一系列技术去改善图像的视觉效果，或将图像转换成一种更适合人或机器进行分析和处理的形式

目的:
1. 视觉效果
2. 人机交互

方法：
1. 空间域增强：直接对图像各像素进行处理
2. 频率域增强：对图像经傅里叶变换后的频谱成分进行护理，逆傅里叶变换获得所需的图像

## 图像增强的点运算

### 灰度级校正

灰度级校正指在图像采集系统中对图像进行修正，使图像成像均匀

### 灰度变换（线性拉伸）

灰度变换可调整图像的灰度动态范围或图像对比度，是图像增强的重要手段之一

#### 线性变换

令图像$f(i,j)$的灰度范围为[a,b],线性变换后图像$g(i,j)$范围为[a',b']

$$
g(i,j)=a'+\frac{b'-a'}{b-a}(f(i,j)-a)
$$

比例系数:$\frac{b'-a'}{b-a}$>1时图像对比度提高，<1时对比度下降

#### 分段线性变换

目的：突出感兴趣目标所在的灰度区间，相对抑制其他的灰度区间

设原图像$f(x,y)为[$0,M_{f}$],感兴趣目标的灰度范围为[a,b],目标灰度范围为[c,d],则

$$
g(x,y)=
\left\{\begin{matrix}
(c/a)f(x,y) & 0 \leq f(x,y) <a \\
[(d-c)/(b-a)][f(x,y)-a]+c & a \leq f(x,y) <b \\
[(M_g-d)/(M_f-b)][f(x,y)-b]+d & b \leq f(x,y) \leq M_f
\end{matrix}\right.
$$

#### 非线性灰度变换

1. 对数变换

以a,b,c为曲线参数

$$
    g(i,j) = a + \frac{ln(f(i,j)+1)}{b \cdot lnc}
$$

目的：对图像的低灰度区间拉伸而对高灰度区间压缩

2. 指数变换

以a,b,c为曲线参数

$$
g(i,j) = b ^{c\cdot (f(i,j)-a)} -1
$$

目的：给高灰度区间较大拉伸

### **直方图修正法**

灰度直方图反映数字图像中每一灰度级与其出现频率间的统计关系，能描述图像的概貌

因此可以通过修改直方图以增强图像

#### 直方图均衡化

直方图均衡化是将原图像通过某种变换，得到一幅灰度直方图均匀分布的新图像的方法

变换函数

$$
T : R \rightarrow S
$$

条件：
1. 单调递增
2. 值域不越界

方法一:基于概率理论

通过变换函数T(r)可以调控图像灰度级的概率密度函数，从而改善图像的灰度层次，是直方图修正技术的基础

变换函数T(r)是原图像直方图累积分布函数时，能达到直方图均衡化的目的

对于灰度级为离散的数字图像，以频率代替概率

$$
\begin{matrix}
    S_k = T(r_k) = \sum _{j=0} ^{k} P_R(r_j) = \sum _{j=0} ^{k} \frac{n_j}{n}  & 0 \leq r_k \leq 1 & k=0,1,2,...,2^g-1
\end{matrix}
$$

累积直方图：统计某一灰度级以下的所有像元数目或所占像元比例所作出的直方图

$$
\begin{matrix}
    c(x_k) = \sum _{j=0} ^{k} h(x_j) & k = 0,1,2,...,L-1
\end{matrix}
$$

方法二：等像元数法

通过变换函数时灰度直方图均衡化

设$\Delta x_a,\Delta x_b$，为变换前，变换后每一灰度级所占像素个数

$$\because处理前后像素个数不变$$

$$ \therefore h_b(x_b) = h_a (x_a) \frac{dx_a}{dx_b} $$

$$
令总像素为N
$$

$$
则 h_b(x_b) \cdot (L-1) = N
$$

$$
h_b(x_b) = \frac{N}{L-1}
$$